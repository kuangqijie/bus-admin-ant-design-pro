(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{iBYx:function(e,t,a){e.exports={wrap:"antd-pro\\pages\\-base\\-staffs-wrap"}},"o/yK":function(e,t,a){"use strict";var l=a("0ZgE"),n=a("VY4n");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("UsS6");var r=l(a("xqAZ"));a("NG6T");var u=l(a("uZXS")),d=l(a("+wDg"));a("sL9k");var o=l(a("BlmP"));a("hjcW");var f=l(a("Tmqy")),s=l(a("U2oY"));a("8EHj");var i=l(a("6xKx"));a("3PXm");var c=l(a("m2aW"));a("Qd5y");var m=l(a("wyIq")),p=l(a("TFzq")),g=l(a("DEU0")),h=l(a("+hkI")),E=l(a("54rf")),v=l(a("oHNe"));a("YJ5n");var b=l(a("Vb+q"));a("6ASg");var y=l(a("pKc7"));a("0lkx");var x=l(a("gEKc"));a("M50D");var C,S,w,N=l(a("5Zb7")),k=n(a("PQfD")),z=a("rAnT"),I=(l(a("zYb/")),l(a("CkN6"))),M=l(a("zHco")),V=l(a("iBYx")),q=N.default.Item,D=(x.default.TextArea,x.default.Search),T=y.default.Option,P=b.default.Group,A=function(e){return Object.keys(e).map(function(t){return e[t]}).join(",")},F={1:"\u542f\u7528",2:"\u505c\u7528"},j={1:"\u7537",2:"\u5973"},O={labelCol:{span:8},wrapperCol:{span:16}},Y=(C=(0,z.connect)(function(e){var t=e.staffs,a=e.loading;return{staffs:t,loading:a.effects["staffs/fetch"]}}),S=N.default.create(),C(w=S(w=function(e){function t(){var e,a;(0,p.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,h.default)(this,(e=(0,E.default)(t)).call.apply(e,[this].concat(n))),a.state={isShowModal:!1,formVals:{},pageSize:10,pageNum:1},a.columns=[{title:"\u7f16\u53f7",dataIndex:"id"},{title:"\u72b6\u6001",dataIndex:"status",filters:[{text:F[1],value:1},{text:F[2],value:2}],filterMultiple:!1,render:function(e){return 1==e?k.default.createElement(m.default,{status:"success",text:F[e]}):2==e?k.default.createElement(m.default,{status:"error",text:F[e]}):void 0}},{title:"\u5de5\u53f7",dataIndex:"employeeNo"},{title:"\u59d3\u540d",dataIndex:"realName"},{title:"\u5e74\u9f84",dataIndex:"age"},{title:"\u6027\u522b",dataIndex:"sex",render:function(e){return j[e]}},{title:"\u8eab\u4efd\u8bc1\u53f7",dataIndex:"certificateNo"},{title:"\u8054\u7cfb\u65b9\u5f0f",dataIndex:"mobilePhone"},{title:"\u64cd\u4f5c",dataIndex:"operate",width:140,fixed:"right",render:function(e,t,l){return k.default.createElement(k.Fragment,null,k.default.createElement(c.default,{type:"primary",size:"small",className:"f-mr10",onClick:function(){return a.onEdit(t)}},"\u7f16\u8f91"),k.default.createElement(i.default,{title:"\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761\u6570\u636e\u5417?",onConfirm:function(){return a.onDelete(t.id,t.delFlag)}},k.default.createElement(c.default,{type:"primary",size:"small",className:"f-bg1"},"\u5220\u9664")))}}],a.fetchData=function(e){var t=a.props.dispatch;t({type:"staffs/fetch",payload:(0,s.default)({pageNum:a.state.pageNum,pageSize:a.state.pageSize},e)})},a.onTableChange=function(e,t,l){var n=a.state.formVals,r=Object.keys(t).reduce(function(e,a){var l=(0,s.default)({},e);return l[a]=A(t[a]),l},{}),u=(0,s.default)({pageNum:e.current,pageSize:e.pageSize},n,r);a.setState({pageNum:e.current,pageSize:e.pageSize}),l.field&&(u.sorter="".concat(l.field,"_").concat(l.order)),a.fetchData(u)},a.onAdd=function(){var e=a.props.form;e.validateFields(function(e,t){e||(console.log(t),a.setModal(!1))})},a.onEdit=function(e){a.setState({formVals:e}),a.setModal(!0)},a.onDelete=function(e){},a.setModal=function(e){a.setState({isShowModal:e})},a.onChangeCate=function(){},a.onSearch=function(e){console.log(e)},a.renderForm=function(){var e=a.props.form.getFieldDecorator,t=a.state.formVals;return k.default.createElement(N.default,{layout:"horizontal"},k.default.createElement(o.default,null,k.default.createElement(f.default,null,k.default.createElement(q,{label:"\u7c7b\u522b",labelCol:{span:4},wrapperCol:{span:20}},e("category",{initialValue:t.category,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7c7b\u522b!"}]})(k.default.createElement(P,{onChange:a.onChangeCate},k.default.createElement(b.default,{value:1},"\u5927\u8f66"),k.default.createElement(b.default,{value:2},"\u5c0f\u8f66")))))),k.default.createElement(o.default,null,k.default.createElement(f.default,{span:12},k.default.createElement(q,(0,d.default)({label:"\u8f66\u8f86\u7c7b\u578b"},O),e("busType",{initialValue:t.busType,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8f66\u8f86\u7c7b\u578b!"}]})(k.default.createElement(y.default,{placeholder:"\u8bf7\u9009\u62e9"},k.default.createElement(T,{value:"1"},"\u70b9"),k.default.createElement(T,{value:"2"},"\u9762"))))),k.default.createElement(f.default,{span:12},k.default.createElement(q,(0,d.default)({label:"\u54c1\u724c"},O),e("brand",{initialValue:t.brand,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u54c1\u724c!"}]})(k.default.createElement(x.default,{placeholder:"\u8bf7\u8f93\u5165\u54c1\u724c"}))))),k.default.createElement(o.default,null,k.default.createElement(f.default,{span:12},k.default.createElement(q,(0,d.default)({label:"\u6838\u5b9a\u5ea7\u6570"},O),e("cofirmSeatsCount",{initialValue:t.cofirmSeatsCount,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6838\u5b9a\u5ea7\u6570!"}]})(k.default.createElement(x.default,{placeholder:"\u8bf7\u8f93\u5165\u6838\u5b9a\u5ea7\u6570"})))),k.default.createElement(f.default,{span:12},k.default.createElement(q,(0,d.default)({label:"\u4e58\u5ba2\u5ea7\u6570"},O),e("passengerSeatsCount",{initialValue:t.passengerSeatsCount,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e58\u5ba2\u5ea7\u6570!"}]})(k.default.createElement(x.default,{placeholder:"\u8bf7\u8f93\u5165\u4e58\u5ba2\u5ea7\u6570"}))))))},a}return(0,v.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=(t.order,t.loading),l={list:[{id:1,status:1,employeeNo:"001",realName:"\u5f20\u7ff0",age:"25",sex:1,certificateNo:"430426198823146688",mobilePhone:18028786128},{id:3,status:2,employeeNo:"006",realName:"\u5c0f\u738b",age:"18",sex:2,certificateNo:"412426198823146622",mobilePhone:18028786128}],pagination:{total:1,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}};return k.default.createElement(M.default,null,k.default.createElement(r.default,{bordered:!1,className:V.default.wrap},k.default.createElement(o.default,{className:"f-mb20"},k.default.createElement(f.default,{span:6},k.default.createElement(c.default,{type:"primary",onClick:function(){return e.setModal(!0)}},"\u6dfb\u52a0\u5de5\u4f5c\u4eba\u5458")),k.default.createElement(f.default,{span:10,offset:8,xxl:{span:8,offset:10}},k.default.createElement(D,{placeholder:"\u8bf7\u8f93\u5165\u5de5\u4f5c\u4eba\u5458\u540d\u79f0",enterButton:!0,onSearch:function(t){return e.onSearch(t)}}))),k.default.createElement(I.default,{bordered:!0,loading:a,data:l,columns:this.columns,rowKey:"id",onChange:this.onTableChange}),k.default.createElement(u.default,{title:"\u6dfb\u52a0\u5de5\u4f5c\u4eba\u5458",width:700,visible:this.state.isShowModal,onOk:this.onAdd,onCancel:function(){return e.setModal(!1)},maskClosable:!1,destroyOnClose:!0},this.renderForm())))}}]),t}(k.PureComponent))||w)||w);t.default=Y}}]);